<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yxb.cms.dao.DbDemandManagerMapper">
  <resultMap id="BaseResultMap" type="com.yxb.cms.domain.vo.DbDemandManager">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 21 23:51:45 CST 2020.
    -->
    <id column="demand_id" jdbcType="VARCHAR" property="demandId" />
    <result column="demand_name" jdbcType="VARCHAR" property="demandName" />
    <result column="demand_desc" jdbcType="VARCHAR" property="demandDesc" />
    <result column="demand_type" jdbcType="INTEGER" property="demandType" />
    <result column="priority" jdbcType="INTEGER" property="priority" />
    <result column="demand_status" jdbcType="INTEGER" property="demandStatus" />
    <result column="sponsor" jdbcType="VARCHAR" property="sponsor" />
    <result column="sponsor_time" jdbcType="VARCHAR" property="sponsorTime" />
    <result column="start_time" jdbcType="VARCHAR" property="startTime" />
    <result column="plan_finish_time" jdbcType="VARCHAR" property="planFinishTime" />
    <result column="finish_time" jdbcType="VARCHAR" property="finishTime" />
    <result column="finish_rate" jdbcType="DOUBLE" property="finishRate" />
    <result column="overdue_num" jdbcType="DOUBLE" property="overdueNum" />
    <result column="remaining_days" jdbcType="DOUBLE" property="remainingDays" />
    <result column="release_time" jdbcType="VARCHAR" property="releaseTime" />
    <result column="project_id" jdbcType="VARCHAR" property="projectId" />
    <result column="project_name" jdbcType="VARCHAR" property="projectName" />
    <result column="creater_user_id" jdbcType="VARCHAR" property="createrUserId" />
    <result column="creater_time" jdbcType="TIMESTAMP" property="createrTime" />
    <result column="modifier_user_id" jdbcType="VARCHAR" property="modifierUserId" />
    <result column="modifier_time" jdbcType="TIMESTAMP" property="modifierTime" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 21 23:51:45 CST 2020.
    -->
    demand_id, demand_name, demand_desc, demand_type, priority, demand_status, sponsor, 
    sponsor_time, start_time, plan_finish_time, finish_time, finish_rate, overdue_num, 
    remaining_days, release_time, project_id, project_name, creater_user_id, creater_time, 
    modifier_user_id, modifier_time
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 21 23:51:45 CST 2020.
    -->
    select 
    <include refid="Base_Column_List" />
    from db_demand_manager
    where demand_id = #{demandId,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 21 23:51:45 CST 2020.
    -->
    delete from db_demand_manager
    where demand_id = #{demandId,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.yxb.cms.domain.vo.DbDemandManager">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 21 23:51:45 CST 2020.
    -->
    insert into db_demand_manager (demand_id, demand_name, demand_desc, 
      demand_type, priority, demand_status, 
      sponsor, sponsor_time, start_time, 
      plan_finish_time, finish_time, finish_rate, 
      overdue_num, remaining_days, release_time, 
      project_id, project_name, creater_user_id, 
      creater_time, modifier_user_id, modifier_time
      )
    values (#{demandId,jdbcType=VARCHAR}, #{demandName,jdbcType=VARCHAR}, #{demandDesc,jdbcType=VARCHAR}, 
      #{demandType,jdbcType=INTEGER}, #{priority,jdbcType=INTEGER}, #{demandStatus,jdbcType=INTEGER}, 
      #{sponsor,jdbcType=VARCHAR}, #{sponsorTime,jdbcType=VARCHAR}, #{startTime,jdbcType=VARCHAR}, 
      #{planFinishTime,jdbcType=VARCHAR}, #{finishTime,jdbcType=VARCHAR}, #{finishRate,jdbcType=DOUBLE}, 
      #{overdueNum,jdbcType=DOUBLE}, #{remainingDays,jdbcType=DOUBLE}, #{releaseTime,jdbcType=VARCHAR}, 
      #{projectId,jdbcType=VARCHAR}, #{projectName,jdbcType=VARCHAR}, #{createrUserId,jdbcType=VARCHAR}, 
      #{createrTime,jdbcType=TIMESTAMP}, #{modifierUserId,jdbcType=VARCHAR}, #{modifierTime,jdbcType=TIMESTAMP}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.yxb.cms.domain.vo.DbDemandManager">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 21 23:51:45 CST 2020.
    -->
    insert into db_demand_manager
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="demandId != null">
        demand_id,
      </if>
      <if test="demandName != null">
        demand_name,
      </if>
      <if test="demandDesc != null">
        demand_desc,
      </if>
      <if test="demandType != null">
        demand_type,
      </if>
      <if test="priority != null">
        priority,
      </if>
      <if test="demandStatus != null">
        demand_status,
      </if>
      <if test="sponsor != null">
        sponsor,
      </if>
      <if test="sponsorTime != null">
        sponsor_time,
      </if>
      <if test="startTime != null">
        start_time,
      </if>
      <if test="planFinishTime != null">
        plan_finish_time,
      </if>
      <if test="finishTime != null">
        finish_time,
      </if>
      <if test="finishRate != null">
        finish_rate,
      </if>
      <if test="overdueNum != null">
        overdue_num,
      </if>
      <if test="remainingDays != null">
        remaining_days,
      </if>
      <if test="releaseTime != null">
        release_time,
      </if>
      <if test="projectId != null">
        project_id,
      </if>
      <if test="projectName != null">
        project_name,
      </if>
      <if test="createrUserId != null">
        creater_user_id,
      </if>
      <if test="createrTime != null">
        creater_time,
      </if>
      <if test="modifierUserId != null">
        modifier_user_id,
      </if>
      <if test="modifierTime != null">
        modifier_time,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="demandId != null">
        #{demandId,jdbcType=VARCHAR},
      </if>
      <if test="demandName != null">
        #{demandName,jdbcType=VARCHAR},
      </if>
      <if test="demandDesc != null">
        #{demandDesc,jdbcType=VARCHAR},
      </if>
      <if test="demandType != null">
        #{demandType,jdbcType=INTEGER},
      </if>
      <if test="priority != null">
        #{priority,jdbcType=INTEGER},
      </if>
      <if test="demandStatus != null">
        #{demandStatus,jdbcType=INTEGER},
      </if>
      <if test="sponsor != null">
        #{sponsor,jdbcType=VARCHAR},
      </if>
      <if test="sponsorTime != null">
        #{sponsorTime,jdbcType=VARCHAR},
      </if>
      <if test="startTime != null">
        #{startTime,jdbcType=VARCHAR},
      </if>
      <if test="planFinishTime != null">
        #{planFinishTime,jdbcType=VARCHAR},
      </if>
      <if test="finishTime != null">
        #{finishTime,jdbcType=VARCHAR},
      </if>
      <if test="finishRate != null">
        #{finishRate,jdbcType=DOUBLE},
      </if>
      <if test="overdueNum != null">
        #{overdueNum,jdbcType=DOUBLE},
      </if>
      <if test="remainingDays != null">
        #{remainingDays,jdbcType=DOUBLE},
      </if>
      <if test="releaseTime != null">
        #{releaseTime,jdbcType=VARCHAR},
      </if>
      <if test="projectId != null">
        #{projectId,jdbcType=VARCHAR},
      </if>
      <if test="projectName != null">
        #{projectName,jdbcType=VARCHAR},
      </if>
      <if test="createrUserId != null">
        #{createrUserId,jdbcType=VARCHAR},
      </if>
      <if test="createrTime != null">
        #{createrTime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifierUserId != null">
        #{modifierUserId,jdbcType=VARCHAR},
      </if>
      <if test="modifierTime != null">
        #{modifierTime,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.yxb.cms.domain.vo.DbDemandManager">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 21 23:51:45 CST 2020.
    -->
    update db_demand_manager
    <set>
      <if test="demandName != null">
        demand_name = #{demandName,jdbcType=VARCHAR},
      </if>
      <if test="demandDesc != null">
        demand_desc = #{demandDesc,jdbcType=VARCHAR},
      </if>
      <if test="demandType != null">
        demand_type = #{demandType,jdbcType=INTEGER},
      </if>
      <if test="priority != null">
        priority = #{priority,jdbcType=INTEGER},
      </if>
      <if test="demandStatus != null">
        demand_status = #{demandStatus,jdbcType=INTEGER},
      </if>
      <if test="sponsor != null">
        sponsor = #{sponsor,jdbcType=VARCHAR},
      </if>
      <if test="sponsorTime != null">
        sponsor_time = #{sponsorTime,jdbcType=VARCHAR},
      </if>
      <if test="startTime != null">
        start_time = #{startTime,jdbcType=VARCHAR},
      </if>
      <if test="planFinishTime != null">
        plan_finish_time = #{planFinishTime,jdbcType=VARCHAR},
      </if>
      <if test="finishTime != null">
        finish_time = #{finishTime,jdbcType=VARCHAR},
      </if>
      <if test="finishRate != null">
        finish_rate = #{finishRate,jdbcType=DOUBLE},
      </if>
      <if test="overdueNum != null">
        overdue_num = #{overdueNum,jdbcType=DOUBLE},
      </if>
      <if test="remainingDays != null">
        remaining_days = #{remainingDays,jdbcType=DOUBLE},
      </if>
      <if test="releaseTime != null">
        release_time = #{releaseTime,jdbcType=VARCHAR},
      </if>
      <if test="projectId != null">
        project_id = #{projectId,jdbcType=VARCHAR},
      </if>
      <if test="projectName != null">
        project_name = #{projectName,jdbcType=VARCHAR},
      </if>
      <if test="createrUserId != null">
        creater_user_id = #{createrUserId,jdbcType=VARCHAR},
      </if>
      <if test="createrTime != null">
        creater_time = #{createrTime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifierUserId != null">
        modifier_user_id = #{modifierUserId,jdbcType=VARCHAR},
      </if>
      <if test="modifierTime != null">
        modifier_time = #{modifierTime,jdbcType=TIMESTAMP},
      </if>
    </set>
    where demand_id = #{demandId,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.yxb.cms.domain.vo.DbDemandManager">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 21 23:51:45 CST 2020.
    -->
    update db_demand_manager
    set demand_name = #{demandName,jdbcType=VARCHAR},
      demand_desc = #{demandDesc,jdbcType=VARCHAR},
      demand_type = #{demandType,jdbcType=INTEGER},
      priority = #{priority,jdbcType=INTEGER},
      demand_status = #{demandStatus,jdbcType=INTEGER},
      sponsor = #{sponsor,jdbcType=VARCHAR},
      sponsor_time = #{sponsorTime,jdbcType=VARCHAR},
      start_time = #{startTime,jdbcType=VARCHAR},
      plan_finish_time = #{planFinishTime,jdbcType=VARCHAR},
      finish_time = #{finishTime,jdbcType=VARCHAR},
      finish_rate = #{finishRate,jdbcType=DOUBLE},
      overdue_num = #{overdueNum,jdbcType=DOUBLE},
      remaining_days = #{remainingDays,jdbcType=DOUBLE},
      release_time = #{releaseTime,jdbcType=VARCHAR},
      project_id = #{projectId,jdbcType=VARCHAR},
      project_name = #{projectName,jdbcType=VARCHAR},
      creater_user_id = #{createrUserId,jdbcType=VARCHAR},
      creater_time = #{createrTime,jdbcType=TIMESTAMP},
      modifier_user_id = #{modifierUserId,jdbcType=VARCHAR},
      modifier_time = #{modifierTime,jdbcType=TIMESTAMP}
    where demand_id = #{demandId,jdbcType=VARCHAR}
  </update>


  <!-- 查询需求总记录数 -->
  <select id="selectDemandManagerCount" parameterType="com.yxb.cms.domain.vo.DbDemandManager" resultType="java.lang.Long">
    select count(*)
    from db_demand_manager u
    <include refid="selectPageParmas" />
  </select>





  <!-- 需求信息分页展示 -->
  <select id="selectDemandManagerListByPage" parameterType="com.yxb.cms.domain.vo.DbDemandManager" resultType="com.yxb.cms.domain.vo.DbDemandManager">
    SELECT
    u.demand_id as demandId,
    u.demand_name as demandName,
    u.demand_desc as demandDesc,
    u.demand_type as demandType,
    u.priority as priority,
    u.demand_status as demandStatus,
    u.start_time as startTime,
    u.plan_finish_time as planFinishTime,
    u.finish_time as finishTime,
    u.finish_rate as finishRate,
    u.project_name as projectName,
    u.overdue_num as overdueNum,
    u.remaining_days as remainingDays

    from db_demand_manager u
    <include refid="selectPageParmas" />
    LIMIT #{start},#{limit}

  </select>

  <!-- 分页查询条件 -->
  <sql id="selectPageParmas">
    <where>
      <if test="demandName != null and demandName != '' ">
        (u.demand_name LIKE CONCAT(#{demandName,jdbcType=VARCHAR}, '%')
        OR u.demand_desc LIKE CONCAT(#{demandName,jdbcType=VARCHAR}, '%')
        )
      </if>

    </where>
  </sql>
</mapper>