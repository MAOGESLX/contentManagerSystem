<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yxb.cms.dao.DbMemberManagerMapper">
  <resultMap id="BaseResultMap" type="com.yxb.cms.domain.vo.DbMemberManager">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 14 17:18:28 CST 2020.
    -->
    <id column="member_id" jdbcType="VARCHAR" property="memberId" />
    <result column="project_id" jdbcType="VARCHAR" property="projectId" />
    <result column="project_name" jdbcType="VARCHAR" property="projectName" />
    <result column="employee_id" jdbcType="VARCHAR" property="employeeId" />
    <result column="employee_name" jdbcType="VARCHAR" property="employeeName" />
    <result column="member_role" jdbcType="INTEGER" property="memberRole" />
    <result column="member_status" jdbcType="INTEGER" property="memberStatus" />
    <result column="add_time" jdbcType="VARCHAR" property="addTime" />
    <result column="release_time" jdbcType="VARCHAR" property="releaseTime" />
    <result column="creater_user_id" jdbcType="VARCHAR" property="createrUserId" />
    <result column="creater_time" jdbcType="TIMESTAMP" property="createrTime" />
    <result column="modifier_user_id" jdbcType="VARCHAR" property="modifierUserId" />
    <result column="modifier_time" jdbcType="TIMESTAMP" property="modifierTime" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 14 17:18:28 CST 2020.
    -->
    member_id, project_id, project_name, employee_id, employee_name, member_role, member_status, 
    add_time, release_time, creater_user_id, creater_time, modifier_user_id, modifier_time
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 14 17:18:28 CST 2020.
    -->
    select 
    <include refid="Base_Column_List" />
    from db_member_manager
    where member_id = #{memberId,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 14 17:18:28 CST 2020.
    -->
    delete from db_member_manager
    where member_id = #{memberId,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.yxb.cms.domain.vo.DbMemberManager">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 14 17:18:28 CST 2020.
    -->
    insert into db_member_manager (member_id, project_id, project_name, 
      employee_id, employee_name, member_role, 
      member_status, add_time, release_time, 
      creater_user_id, creater_time, modifier_user_id, 
      modifier_time)
    values (#{memberId,jdbcType=VARCHAR}, #{projectId,jdbcType=VARCHAR}, #{projectName,jdbcType=VARCHAR}, 
      #{employeeId,jdbcType=VARCHAR}, #{employeeName,jdbcType=VARCHAR}, #{memberRole,jdbcType=INTEGER}, 
      #{memberStatus,jdbcType=INTEGER}, #{addTime,jdbcType=VARCHAR}, #{releaseTime,jdbcType=VARCHAR}, 
      #{createrUserId,jdbcType=VARCHAR}, #{createrTime,jdbcType=TIMESTAMP}, #{modifierUserId,jdbcType=VARCHAR}, 
      #{modifierTime,jdbcType=TIMESTAMP})
  </insert>
  <insert id="insertSelective" parameterType="com.yxb.cms.domain.vo.DbMemberManager">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 14 17:18:28 CST 2020.
    -->
    insert into db_member_manager
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="memberId != null">
        member_id,
      </if>
      <if test="projectId != null">
        project_id,
      </if>
      <if test="projectName != null">
        project_name,
      </if>
      <if test="employeeId != null">
        employee_id,
      </if>
      <if test="employeeName != null">
        employee_name,
      </if>
      <if test="memberRole != null">
        member_role,
      </if>
      <if test="memberStatus != null">
        member_status,
      </if>
      <if test="addTime != null">
        add_time,
      </if>
      <if test="releaseTime != null">
        release_time,
      </if>
      <if test="createrUserId != null">
        creater_user_id,
      </if>
      <if test="createrTime != null">
        creater_time,
      </if>
      <if test="modifierUserId != null">
        modifier_user_id,
      </if>
      <if test="modifierTime != null">
        modifier_time,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="memberId != null">
        #{memberId,jdbcType=VARCHAR},
      </if>
      <if test="projectId != null">
        #{projectId,jdbcType=VARCHAR},
      </if>
      <if test="projectName != null">
        #{projectName,jdbcType=VARCHAR},
      </if>
      <if test="employeeId != null">
        #{employeeId,jdbcType=VARCHAR},
      </if>
      <if test="employeeName != null">
        #{employeeName,jdbcType=VARCHAR},
      </if>
      <if test="memberRole != null">
        #{memberRole,jdbcType=INTEGER},
      </if>
      <if test="memberStatus != null">
        #{memberStatus,jdbcType=INTEGER},
      </if>
      <if test="addTime != null">
        #{addTime,jdbcType=VARCHAR},
      </if>
      <if test="releaseTime != null">
        #{releaseTime,jdbcType=VARCHAR},
      </if>
      <if test="createrUserId != null">
        #{createrUserId,jdbcType=VARCHAR},
      </if>
      <if test="createrTime != null">
        #{createrTime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifierUserId != null">
        #{modifierUserId,jdbcType=VARCHAR},
      </if>
      <if test="modifierTime != null">
        #{modifierTime,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.yxb.cms.domain.vo.DbMemberManager">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 14 17:18:28 CST 2020.
    -->
    update db_member_manager
    <set>
      <if test="projectId != null">
        project_id = #{projectId,jdbcType=VARCHAR},
      </if>
      <if test="projectName != null">
        project_name = #{projectName,jdbcType=VARCHAR},
      </if>
      <if test="employeeId != null">
        employee_id = #{employeeId,jdbcType=VARCHAR},
      </if>
      <if test="employeeName != null">
        employee_name = #{employeeName,jdbcType=VARCHAR},
      </if>
      <if test="memberRole != null">
        member_role = #{memberRole,jdbcType=INTEGER},
      </if>
      <if test="memberStatus != null">
        member_status = #{memberStatus,jdbcType=INTEGER},
      </if>
      <if test="addTime != null">
        add_time = #{addTime,jdbcType=VARCHAR},
      </if>
      <if test="releaseTime != null">
        release_time = #{releaseTime,jdbcType=VARCHAR},
      </if>
      <if test="createrUserId != null">
        creater_user_id = #{createrUserId,jdbcType=VARCHAR},
      </if>
      <if test="createrTime != null">
        creater_time = #{createrTime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifierUserId != null">
        modifier_user_id = #{modifierUserId,jdbcType=VARCHAR},
      </if>
      <if test="modifierTime != null">
        modifier_time = #{modifierTime,jdbcType=TIMESTAMP},
      </if>
    </set>
    where member_id = #{memberId,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.yxb.cms.domain.vo.DbMemberManager">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu May 14 17:18:28 CST 2020.
    -->
    update db_member_manager
    set project_id = #{projectId,jdbcType=VARCHAR},
      project_name = #{projectName,jdbcType=VARCHAR},
      employee_id = #{employeeId,jdbcType=VARCHAR},
      employee_name = #{employeeName,jdbcType=VARCHAR},
      member_role = #{memberRole,jdbcType=INTEGER},
      member_status = #{memberStatus,jdbcType=INTEGER},
      add_time = #{addTime,jdbcType=VARCHAR},
      release_time = #{releaseTime,jdbcType=VARCHAR},
      creater_user_id = #{createrUserId,jdbcType=VARCHAR},
      creater_time = #{createrTime,jdbcType=TIMESTAMP},
      modifier_user_id = #{modifierUserId,jdbcType=VARCHAR},
      modifier_time = #{modifierTime,jdbcType=TIMESTAMP}
    where member_id = #{memberId,jdbcType=VARCHAR}
  </update>


  <!-- 查询项目成员总录数 -->
  <select id="selectMemberManagerCount" parameterType="com.yxb.cms.domain.vo.DbMemberManager" resultType="java.lang.Long">
    select count(*)
    from db_member_manager u
    <include refid="selectPageParmas" />
  </select>



  <!-- 项目成员信息分页展示 -->
  <select id="selectMemberManagerListByPage" parameterType="com.yxb.cms.domain.vo.DbMemberManager" resultType="com.yxb.cms.domain.vo.DbMemberManager">
    SELECT
    u.member_id as memberId,
    u.project_id as projectId,
    u.project_name as projectName,
    u.employee_id as employeeId,
    u.employee_name as employeeName,
    u.member_role as memberRole,
    u.member_status as memberStatus,
    u.add_time as addTime,
    u.release_time as releaseTime

    from db_member_manager u
    <include refid="selectPageParmas" />
    LIMIT #{start},#{limit}

  </select>

  <!-- 分页查询条件 -->
  <sql id="selectPageParmas">
    <where>
      u.member_status <![CDATA[<>]]> '0'
      <if test="employeeName != null and employeeName != '' ">
        and (u.project_name LIKE CONCAT(#{employeeName,jdbcType=VARCHAR}, '%')
        OR u.employee_name LIKE CONCAT(#{employeeName,jdbcType=VARCHAR}, '%')
        )
      </if>

    </where>
  </sql>



</mapper>